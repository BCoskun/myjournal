= using github and plantuml
:author: David Buret
:source-highlighter: pygments
:pygments-style: emacs
:icons: font
:sectnums:
:toclevels: 4
:toc:
:imagesdir: images/
:toc-title: Sommaire
:gitplant: http://www.plantuml.com/plantuml/proxy?src=https://raw.githubusercontent.com/DBuret/myjournal/master/

== introduction

i'm currently moving to asciidoc and plantuml to write docs, storing these data on gitlab at work

but for homework, github ascidoc parsing does not understand plantuml

== solution

 use palntuml online server to parse the plantuml file on github, and use its full url in github asciidoc files
 
.image url 
http://www.plantuml.com/plantuml/proxy?src=https://raw.github.com/plantuml/plantuml-server/master/src/main/webapp/resource/test2diagrams.txt

.my test

[source]
----
image::http://www.plantuml.com/plantuml/proxy?src=https://raw.githubusercontent.com/DBuret/myjournal/master/test.puml[test]
----

syntax is very long, let'use an asciidoc variable +gitplant+

.how to display plantuml in asciidoc on github
[source]
----
:gitplant: http://www.plantuml.com/plantuml/proxy?src=https://raw.githubusercontent.com/DBuret/myjournal/master/
image::{gitplant}/test.puml[test]
----


WARNING: I still have to check how to manage github image caching.

=== plantum test

image::{gitplant}/test.puml[test]
