= using github and plantuml
:author: David Buret
:source-highlighter: pygments
:pygments-style: emacs
:icons: font
:sectnums:
:toclevels: 4
:toc:
:imagesdir: images/
:toc-title: Sommaire
:gitplant: http://www.plantuml.com/plantuml/proxy?src=https://raw.githubusercontent.com/DBuret/myjournal/master/

== introduction

i'm currently moving to asciidoc and plantuml to write docs, storing these data on gitlab at work

but for homework, github ascidoc parsing does not understand plantuml

== solution

 use palntuml online server to parse the plantuml file on github, and use its full url on githuab asciidoc files
 
.ex image url 
http://www.plantuml.com/plantuml/proxy?src=https://raw.github.com/plantuml/plantuml-server/master/src/main/webapp/resource/test2diagrams.txt

.my test
image::http://www.plantuml.com/plantuml/proxy?src=https://raw.githubusercontent.com/DBuret/myjournal/master/test.puml[test]

syntax is very long, let'use an asciidoc variable +gitplant+ and use it with ´{gitplant}´

.mon test avec variable
image::{gitplant}/test.puml[test]

=== plantum deployment diag

.objets dans un diagramme de deploiement
[plantuml]
----
actor actor
agent agent
artifact artifact
boundary boundary
card card
cloud cloud
component component
control control
database database
entity entity
file file
folder folder
frame frame
interface  interface
node node
package package
queue queue
stack stack
rectangle rectangle
storage storage
usecase usecase
----